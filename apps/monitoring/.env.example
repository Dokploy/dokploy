# Dokploy Monitoring Configuration Example
# Copy this file to .env and adjust the values as needed

# Configuration JSON - all settings must be in a single JSON object
METRICS_CONFIG='{
  "server": {
    "refreshRate": 25,
    "port": 3001,
    "type": "Dokploy",
    "token": "your-secure-token-here",
    "urlCallback": "http://localhost:3000/api/trpc/notification.receiveNotification",
    "retentionDays": 7,
    "cronJob": "0 0 * * *",
    "thresholds": {
      "cpu": 80,
      "memory": 85
    },
    "prometheus": {
      "enabled": true
    }
  },
  "containers": {
    "refreshRate": 30,
    "services": {
      "include": [],
      "exclude": []
    }
  }
}'

# Configuration Options Explained:
#
# server.refreshRate: How often to collect server metrics (in seconds)
# server.port: Port on which the monitoring service runs
# server.type: Server type label (e.g., "Dokploy", "Remote", "Production")
# server.token: Authentication token for API endpoints
# server.urlCallback: Callback URL for threshold alerts
# server.retentionDays: How many days to keep metrics in the database
# server.cronJob: Cron schedule for cleanup job (default: daily at midnight)
# server.thresholds.cpu: CPU usage threshold for alerts (0 = disabled)
# server.thresholds.memory: Memory usage threshold for alerts (0 = disabled)
# server.prometheus.enabled: Enable Prometheus metrics endpoint at /metrics/prometheus
#
# containers.refreshRate: How often to collect container metrics (in seconds)
# containers.services.include: List of container name prefixes to monitor
# containers.services.exclude: List of container name prefixes to exclude
