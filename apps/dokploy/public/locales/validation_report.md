# JSON 文件验证报告

## 验证时间
执行时间：刚刚完成

## 验证结果总结

### ✅ JSON 格式验证
- **总文件数**: 42 个 JSON 文件
- **格式错误**: 0 个
- **解析错误**: 0 个
- **编码错误**: 0 个

**结论**: 所有 JSON 文件格式正确，可以正常解析。

---

## 发现的问题

### 1. 键缺失问题

#### `ja/common.json` 缺少键
- **缺失键**: `sidebar.toggle`
- **影响**: 日语版本缺少侧边栏切换功能的翻译
- **建议**: 从其他语言文件复制并翻译该键

**参考值**:
- 英文: "Toggle Sidebar"
- 中文简体: "切换侧边栏"
- 中文繁体: "切換側邊欄"

---

### 2. 键不一致问题

#### `tr/common.json` 多出 8 个键
这些是新增的 AI 功能相关键，土耳其语版本已经翻译，但其他语言可能还没有：

**多出的键**:
1. `ai.stepTwo.loadingTitle`
2. `ai.stepTwo.suggestionsIntro`
3. `ai.stepTwo.title`
4. `ai.steps.title`
5. `ai.steps.variant`
6. `ai.stepTwo.loadingDescription` (可能)
7. 其他 AI 相关键

**说明**: 
- 这些键在 `en/common.json` 中也存在（共 51 个 ai.* 键）
- 这是新功能，其他语言文件可能尚未同步更新
- **不是错误**，只是翻译进度不一致

---

### 3. 文件大小异常

#### `ml/common.json` 和 `ml/settings.json` 文件较大
- `ml/common.json`: 215,476 字节 (平均: 132,324 字节)
- `ml/settings.json`: 167,248 字节 (平均: 110,442 字节)

**原因分析**:
- 马拉雅拉姆语（Malayalam）使用复杂的 Unicode 字符
- 每个字符可能占用更多字节
- 这是正常的，不是错误

---

## 键统计

### common.json
- **总文件数**: 21 个
- **总键数**: 1,717 个（所有文件合并）
- **参考文件** (az): 1,709 个键
- **不一致文件**: 
  - `ja`: 缺少 1 个键
  - `tr`: 多出 8 个键（新功能）

### settings.json
- **总文件数**: 21 个
- **总键数**: 1,186 个
- **键一致性**: ✅ 所有文件键数一致

---

## 建议操作

### 高优先级
1. **修复 `ja/common.json`**
   - 添加缺失的 `sidebar.toggle` 键
   - 建议翻译: "サイドバーを切り替え"

### 中优先级
2. **同步 AI 功能翻译**
   - 检查其他语言文件是否缺少 `ai.*` 相关键
   - 如果缺少，需要从英文版本翻译并添加

### 低优先级
3. **文件大小**
   - `ml` 文件大小正常，无需处理

---

## 验证脚本

本次验证使用了以下脚本：
- `validate_json.py`: JSON 格式验证
- `check_consistency.py`: 键一致性检查

所有脚本已保存在 `locales` 目录中，可随时重新运行验证。

